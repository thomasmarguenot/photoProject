@reference "../../index.css";

.gallery {
  @apply min-h-screen py-12;
}

.gallery-container {
  @apply mx-auto max-w-7xl px-4;
}

.gallery-header {
  @apply mb-12 text-center;
}

.gallery-title {
  @apply mb-4 text-5xl font-bold;
}

.gallery-subtitle {
  @apply text-xl text-gray-600;
}

.gallery-empty {
  @apply flex min-h-[400px] items-center justify-center text-gray-500;
}

/* Modern CSS Grid Masonry Layout with alternating sizes */
.gallery-grid {
  @apply grid gap-6;

  /* Responsive columns with better spacing */
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  grid-auto-flow: dense;
}

/* Masonry item with alternating portrait/landscape */
.gallery-item {
  @apply overflow-hidden bg-gray-100 shadow-lg transition-all duration-300 hover:shadow-2xl;
  break-inside: avoid;
  cursor: pointer;
}

/* Portrait format - taller */
.gallery-item.portrait {
  grid-row: span 2;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Landscape format - wider */
.gallery-item.landscape {
  grid-column: span 1;
  grid-row: span 1;
}

/* Large format - takes more space */
.gallery-item.large {
  grid-column: span 2;
  grid-row: span 2;
}

/* Image styling */
.gallery-image {
  @apply h-full w-full object-cover;
  display: block;
  transition: transform 0.4s ease-out;
}

/* Rotate portrait images 90 degrees counter-clockwise and scale to fill */
.gallery-item.portrait .gallery-image {
  transform: rotate(-90deg) scale(1.8);
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.gallery-item:hover .gallery-image {
  transform: scale(1.1);
}

.gallery-item.portrait:hover .gallery-image {
  transform: rotate(-90deg) scale(1.98);
}

/* Lightbox overlay */
.lightbox-overlay {
  @apply fixed inset-0 z-50 flex items-center justify-center bg-black/95;
}

.lightbox-content {
  @apply relative flex h-full w-full items-center justify-center p-4;
}

.lightbox-image {
  @apply shadow-2xl;
  max-height: 90vh;
  max-width: 90vw;
  object-fit: contain;
}

/* Adjust dimensions for portrait images in lightbox (rotation handled by Framer Motion) */
.lightbox-image.portrait {
  /* Swap max dimensions for rotated image */
  max-width: 90vh;
  max-height: 90vw;
}

.lightbox-close {
  @apply absolute right-4 top-4 flex h-12 w-12 cursor-pointer items-center justify-center rounded-full bg-white/10 text-white backdrop-blur-sm transition-all hover:bg-white/20 hover:scale-110;
  font-size: 24px;
  font-weight: 300;
  line-height: 1;
}

.lightbox-close:hover {
  @apply bg-white/30;
}

/* Responsive adjustments */
@media (min-width: 640px) {
  .gallery-grid {
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    @apply gap-8;
  }
}

@media (min-width: 1024px) {
  .gallery-grid {
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    @apply gap-10;
  }
}
