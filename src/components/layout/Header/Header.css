@reference "../../../index.css";

.header {
  @apply mx-auto sticky z-[var(--header-z-index)];
  @apply w-full max-w-[var(--header-max-width)];
  @apply rounded-[var(--header-radius)] border-b border-[var(--header-border)];
  @apply bg-[var(--header-bg)] backdrop-blur-[var(--header-blur)];
  @apply transition-all ease-in-out;
  transition-duration: var(--animation-duration);
  transition-timing-function: var(--animation-easing);
}

body.menu-overlay-open .header {
  width: 100vw !important;
  max-width: 100vw !important;
  margin-left: 0 !important;
  margin-right: 0 !important;
  border-radius: 0 !important;
}

body.lightbox-open .header {
  @apply -translate-y-full opacity-0 pointer-events-none;
  transform: translateY(-150%);
}

.header-container {
  @apply px-6 py-5 flex items-center;
}

.header-logo {
  @apply flex items-center min-w-[220px] lg:min-w-[240px];
}

@media (max-width: 1023px) {
  .header-logo {
    height: 1.5rem;
    min-width: 0;
    padding: 0;
  }
  .header-logo .header-title {
    font-size: 1.3rem;
    padding: 0;
    margin: 0;
  }
}

.header-title-wrapper {
  @apply relative no-underline;
}

.header-title {
  @apply text-2xl font-semibold tracking-[-0.02em];
  font-family: var(--font-heading);
  background-image: linear-gradient(
    90deg,
    var(--color-primary) 0,
    var(--color-primary) 33.33%,
    #fde047 40%,
    #f59e0b 45%,
    #ec4899 50%,
    #a78bfa 55%,
    #60a5fa 60%,
    transparent 66.67%,
    transparent
  );
  background-size: 300% 100%;
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.header-title-base {
  @apply block;
  background-position: 0% 0;
  animation: header-title-reveal-forward var(--header-title-animation-duration) ease-in-out forwards;
}

.header-title-overlay {
  @apply absolute top-0 left-0;
  background-position: 0% 0;
  animation: header-title-reveal-backward var(--header-title-animation-duration) ease-in-out forwards;
}

.header-title-wrapper:hover .header-title-base,
.header-title-wrapper:hover .header-title-overlay {
  animation-play-state: paused;
}

@keyframes header-title-reveal-forward {
  0% { background-position: 100% 0; }
  50% { background-position: 0% 0; }
  100% { background-position: 0% 0; }
}

@keyframes header-title-reveal-backward {
  0% { opacity: 0; background-position: 0% 0; }
  50% { opacity: 0; background-position: 0% 0; }
  51% { opacity: 1; background-position: 0% 0; }
  100% { opacity: 1; background-position: 100% 0; }
}


/* Hide nav on mobile, flex on desktop */

.header-nav {
  @apply gap-2 items-center;
  display: none;
  position: relative;
}

@media (min-width: 1024px) {
  .header-container {
    display: flex;
    flex-direction: row;
    align-items: center;
  }
  .header {
    top: var(--header-top);
    width: var(--header-width);
    max-width: var(--header-max-width);
    margin-left: auto;
    margin-right: auto;
    border-radius: var(--header-radius);
  }
  .header-nav {
    display: flex;
    justify-content: space-between;
    flex: 1 1 0%;
    min-width: 0;
    margin-left: 5rem;
  }
}

.header-link {
  @apply relative tracking-[-0.01em] transition-all inline-flex items-center;
  @apply text-[var(--header-link-size)] font-[var(--header-link-weight)];
  @apply text-[var(--color-text-primary)];
  @apply px-0 py-0;
  position: relative;
  z-index: 10;
}

.header-link:hover {
  @apply text-[var(--color-primary)];
}

.header-nav-indicator {
  position: absolute;
  top: 50%;
  left: 0;
  transform: translateY(-50%);
  --header-indicator-padding: 16px;
  --header-indicator-vertical-padding: 6px;
  height: calc(1.75rem + 8px + var(--header-indicator-vertical-padding));
  width: 0px;
  background: var(--color-primary-subtle);
  border-radius: var(--radius-full);
  transition: transform var(--animation-duration) var(--animation-easing),
    width var(--animation-duration) var(--animation-easing),
    height var(--animation-duration) var(--animation-easing);
  z-index: 0;
}

.header-link.active {
  @apply text-[var(--color-primary)];
}

@media (min-width: 1024px) {
  .header-container { @apply px-12; }
}
