@reference "../../../index.css";

.header {
  @apply mx-auto sticky top-[var(--header-top)] z-[var(--header-z-index)];
  @apply w-[var(--header-width)] max-w-[var(--header-max-width)];
  @apply rounded-[var(--header-radius)] border-b border-[var(--header-border)];
  @apply bg-[var(--header-bg)] backdrop-blur-[var(--header-blur)];
  @apply transition-all ease-in-out;
  transition-duration: var(--animation-duration);
  transition-timing-function: var(--animation-easing);
}

/* Animation quand le lightbox est ouvert */
body.lightbox-open .header {
  @apply -translate-y-full opacity-0 pointer-events-none;
  transform: translateY(-150%);
}

.header-container {
  @apply px-6 py-5 flex items-center justify-between;
}

.header-logo {
  @apply flex items-center;
}

.header-title-wrapper {
  @apply relative no-underline;
}

.header-title {
  @apply text-2xl font-semibold tracking-[-0.02em];
  font-family: var(--font-heading);
  background-image: linear-gradient(
    90deg,
    var(--color-primary) 0,
    var(--color-primary) 33.33%,
    #fde047 40%,
    #f59e0b 45%,
    #ec4899 50%,
    #a78bfa 55%,
    #60a5fa 60%,
    transparent 66.67%,
    transparent
  );
  background-size: 300% 100%;
  background-clip: text;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

.header-title-base {
  @apply block;
  background-position: 0% 0;
  animation: header-title-reveal-forward var(--header-title-animation-duration) ease-in-out forwards;
}

.header-title-overlay {
  @apply absolute top-0 left-0;
  background-position: 0% 0;
  animation: header-title-reveal-backward var(--header-title-animation-duration) ease-in-out forwards;
}

.header-title-wrapper:hover .header-title-base,
.header-title-wrapper:hover .header-title-overlay {
  animation-play-state: paused;
}

@keyframes header-title-reveal-forward {
  0% {
    background-position: 100% 0;
  }
  50% {
    background-position: 0% 0;
  }
  100% {
    background-position: 0% 0;
  }
}

@keyframes header-title-reveal-backward {
  0% {
    opacity: 0;
    background-position: 0% 0;
  }
  50% {
    opacity: 0;
    background-position: 0% 0;
  }
  51% {
    opacity: 1;
    background-position: 0% 0;
  }
  100% {
    opacity: 1;
    background-position: 100% 0;
  }
}

.header-nav {
  @apply flex gap-8;
}

.header-link {
  @apply relative tracking-[-0.01em] transition-all;
  @apply text-[var(--header-link-size)] font-[var(--header-link-weight)];
  color: var(--color-text);
}

.header-link:hover {
  color: var(--color-accent);
}

.header-link::after {
  @apply absolute -bottom-1 left-0 right-0 h-0.5;
  @apply scale-x-0 transition-transform duration-300;
  @apply content-[''];
  background: var(--color-accent);
  transition-timing-function: var(--animation-easing);
}

.header-link:hover::after {
  @apply scale-x-100;
}

@media (min-width: 1024px) {
  .header-container {
    @apply px-12;
  }
}
